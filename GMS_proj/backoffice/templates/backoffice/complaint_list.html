{% extends 'backoffice/navigation_admin.html' %}
   {% block content %}
    {% load static %}
   

<div class="container">
      <table id="example" class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col"style="width:10vw;">Profile id</th>
            <th scope="col"style="width:15vw;">subject</th>
            <th scope="col"style="width:10vw;">current_handler</th>
            <th scope="col" style="width:40vw; text-align: center;">message</th>
            <th scope="col"style="width:10vw;">created_at</th>
            <th scope="col"style="width:10vw;">updated_at</th>
            <th scope="col"style="width:10vw;">Actions</th>
          </tr>
        </thead>
        {% for  complaint in complaints %}
        <tr>
          <td>{{complaint.profile_id}}</td>
          <td>{{complaint.subject}}</td>
          <td>{{complaint.current_handler}}</td>
          <td>{{complaint.message}}</td>
          <td>{{complaint.created_at}}</td>
          <td>{{complaint.updated_at}}</td>
          <td>
            <div class="btn-group" role="group" aria-label="Basic example">
              <button type="button" class="btn btn-primary" onclick="showProfile({{ complaint.id }})" ><i class="far fa-eye"></i></button>
              <button type="button" class="btn btn-success"> <i class="fa-solid fa-reply"></i></button>
              <button type="button" class="btn btn-danger"><i class="far fa-trash-alt"></i></button>
            </div>
          </td>
         
        </tr>
        {% endfor %}
      </table>
    </div>

                </div>
            </div>
        </div>
    </div>
    <script>
      function showProfile(complaint_id) {
          // Redirect to the detail page with employeeId
          window.location.href = "{% url 'backoffice:complaints' operation='view' %}?id=" + complaint_id;
      }
  </script>
 {% endblock %}